<!--index.wxml-->
<view class="container">
    <swiper class="case-book-swiper" current="{{current}}" bindchange="handleChange">
        <swiper-item class="case-book-swiper-item" wx:for="{{caseBookList}}" wx:for-item="caseBook" wx:key="id" item-id="{{caseBook.id}}">
            <view class="case-book-item-block-{{index}}" bindtap="handleRotate">
                <view class="case-book-item case-book-item-{{index}} {{caseBook.waiting ? 'waiting' : ''}}">
                    <image class="case-book-image" src="{{caseBook.image}}" lazy-load></image>
                    <view class="t-con">
                        <image class="case-book-logo" src="{{caseBook.logo}}" lazy-load catch:tap="handleNavigate"></image>
                    </view>
                </view>
            </view>
        </swiper-item>
    </swiper>
    <view class="tool-bar">
        <navigator wx:if="{{!caseBookList[current].waiting}}" url="/pages/incident/incident?id={{caseBookList[current].id}}" class="tool-item navigator-button">呈现</navigator>
        <text wx:else class="tool-item navigator-button">静候</text>
        <text class="tool-item indicator">{{current + 1}}/{{caseBookList.length}}</text>
        <button open-type="share" class="tool-item share-button">
            <image class="share-icon" src="../../images/share.png"></image>
        </button>
    </view>
    <view class="mask" wx:if="{{showGuide}}" bind:tap="handleGuide">
        <image class="guide-1" src="../../images/guide1.png" wx:if="{{showGuideOne}}"></image>
        <image class="guide-2" src="../../images/guide2.png" wx:if="{{showGuideTwo}}"></image>
    </view>
</view>
